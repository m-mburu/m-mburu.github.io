<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mburu">
<meta name="dcterms.date" content="2021-08-13">

<title>Data Science Projects - Writing Efficient R Code</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="../../../site_libs/jquery-1.12.4/jquery.min.js"></script>
<script src="../../../site_libs/d3-3.5.6/d3.min.js"></script>
<link href="../../../site_libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet">
<script src="../../../site_libs/profvis-0.3.6.9000/profvis.js"></script>
<script src="../../../site_libs/profvis-0.3.6.9000/scroll.js"></script>
<link href="../../../site_libs/highlight-6.2.0/textmate.css" rel="stylesheet">
<script src="../../../site_libs/highlight-6.2.0/highlight.js"></script>
<script src="../../../site_libs/profvis-binding-0.3.7/profvis.js"></script>


<link rel="stylesheet" href="../../../style.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Data Science Projects</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#r-version" id="toc-r-version" class="nav-link active" data-scroll-target="#r-version">R version</a></li>
  <li><a href="#comparing-read-times-of-csv-and-rds-files" id="toc-comparing-read-times-of-csv-and-rds-files" class="nav-link" data-scroll-target="#comparing-read-times-of-csv-and-rds-files">Comparing read times of CSV and RDS files</a></li>
  <li><a href="#elapsed-time" id="toc-elapsed-time" class="nav-link" data-scroll-target="#elapsed-time">Elapsed time</a></li>
  <li><a href="#benchmark-datacamps-machine" id="toc-benchmark-datacamps-machine" class="nav-link" data-scroll-target="#benchmark-datacamps-machine">Benchmark DataCamp’s machine</a></li>
  <li><a href="#benchmark-r-operations" id="toc-benchmark-r-operations" class="nav-link" data-scroll-target="#benchmark-r-operations">Benchmark r operations</a></li>
  <li><a href="#timings---growing-a-vector" id="toc-timings---growing-a-vector" class="nav-link" data-scroll-target="#timings---growing-a-vector">Timings - growing a vector</a></li>
  <li><a href="#vectorized-code-multiplication" id="toc-vectorized-code-multiplication" class="nav-link" data-scroll-target="#vectorized-code-multiplication">Vectorized code: multiplication</a></li>
  <li><a href="#vectorized-code-calculating-a-log-sum" id="toc-vectorized-code-calculating-a-log-sum" class="nav-link" data-scroll-target="#vectorized-code-calculating-a-log-sum">Vectorized code: calculating a log-sum</a></li>
  <li><a href="#x-is-a-vector-of-probabilities" id="toc-x-is-a-vector-of-probabilities" class="nav-link" data-scroll-target="#x-is-a-vector-of-probabilities">x is a vector of probabilities</a>
  <ul class="collapse">
  <li><a href="#data-frames-and-matrices---column-selection" id="toc-data-frames-and-matrices---column-selection" class="nav-link" data-scroll-target="#data-frames-and-matrices---column-selection">Data frames and matrices - column selection</a></li>
  <li><a href="#row-timings" id="toc-row-timings" class="nav-link" data-scroll-target="#row-timings">Row timings</a></li>
  <li><a href="#profvis-in-action" id="toc-profvis-in-action" class="nav-link" data-scroll-target="#profvis-in-action">Profvis in action</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Writing Efficient R Code</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mburu </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 13, 2021</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="r-version" class="level2">
<h2 class="anchored" data-anchor-id="r-version">R version</h2>
<p>One of the relatively easy optimizations available is to use an up-to-date version of R. In general, R is very conservative, so upgrading doesn’t break existing code. However, a new version will often provide free speed boosts for key functions.</p>
<p>The version command returns a list that contains (among other things) the major and minor version of R currently being used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the R version details using version</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>version</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               _                           
platform       x86_64-pc-linux-gnu         
arch           x86_64                      
os             linux-gnu                   
system         x86_64, linux-gnu           
status                                     
major          4                           
minor          1.2                         
year           2021                        
month          11                          
day            01                          
svn rev        81115                       
language       R                           
version.string R version 4.1.2 (2021-11-01)
nickname       Bird Hippie                 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign the variable major to the major component</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>major <span class="ot">&lt;-</span> version<span class="sc">$</span>major</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign the variable minor to the minor component</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>minor <span class="ot">&lt;-</span> version<span class="sc">$</span>minor</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comparing-read-times-of-csv-and-rds-files" class="level2">
<h2 class="anchored" data-anchor-id="comparing-read-times-of-csv-and-rds-files">Comparing read times of CSV and RDS files</h2>
<p>One of the most common tasks we perform is reading in data from CSV files. However, for large CSV files this can be slow. One neat trick is to read in the data and save as an R binary file (rds) using saveRDS(). To read in the rds file, we use readRDS().</p>
<p>Note: Since rds is R’s native format for storing single objects, you have not introduced any third-party dependencies that may change in the future.</p>
<p>To benchmark the two approaches, you can use system.time(). This function returns the time taken to evaluate any R expression. For example, to time how long it takes to calculate the square root of the numbers from one to ten million, you would write the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How long does it take to read movies from CSV?</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(<span class="fu">read.csv</span>(<span class="st">"movies.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.131   0.003   0.135 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How long does it take to read movies from RDS?</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(<span class="fu">readRDS</span>(<span class="st">"movies.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
   0.03    0.00    0.03 </code></pre>
</div>
</div>
</section>
<section id="elapsed-time" class="level2">
<h2 class="anchored" data-anchor-id="elapsed-time">Elapsed time</h2>
<p>Using system.time() is convenient, but it does have its drawbacks when comparing multiple function calls. The microbenchmark package solves this problem with the microbenchmark() function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the microbenchmark package</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare the two functions</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>compare <span class="ot">&lt;-</span> <span class="fu">microbenchmark</span>(<span class="fu">read.csv</span>(<span class="st">"movies.csv"</span>), </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">readRDS</span>(<span class="st">"movies.rds"</span>), </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">times =</span> <span class="dv">100</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print compare</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>compare</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: milliseconds
                   expr       min        lq     mean   median        uq
 read.csv("movies.csv") 124.06143 132.66351 147.2988 139.0496 152.97855
  readRDS("movies.rds")  30.09878  31.21481  33.3113  32.3566  34.34812
       max neval cld
 240.20944   100   b
  60.82679   100  a </code></pre>
</div>
</div>
<p>My hardware For many problems your time is the expensive part. If having a faster computer makes you more productive, it can be cost effective to buy one. However, before you splash out on new toys for yourself, your boss/partner may want to see some numbers to justify the expense. Measuring the performance of your computer is called benchmarking, and you can do that with the benchmarkme package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the benchmarkme package</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(benchmarkme)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign the variable ram to the amount of RAM on this machine</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>ram <span class="ot">&lt;-</span> <span class="fu">get_ram</span>()</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>ram</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>16.5 GB</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign the variable cpu to the cpu specs</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>cpu <span class="ot">&lt;-</span> <span class="fu">get_cpu</span>()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>cpu</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$vendor_id
[1] "GenuineIntel"

$model_name
[1] "11th Gen Intel(R) Core(TM) i7-11370H @ 3.30GHz"

$no_of_cores
[1] 8</code></pre>
</div>
</div>
</section>
<section id="benchmark-datacamps-machine" class="level2">
<h2 class="anchored" data-anchor-id="benchmark-datacamps-machine">Benchmark DataCamp’s machine</h2>
<p>The benchmarkme package allows you to run a set of standardized benchmarks and compare your results to other users. One set of benchmarks tests is reading and writing speeds.</p>
<p>The function call</p>
<p>res = benchmark_io(runs = 1, size = 5) records the length of time it takes to read and write a 5MB file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the io benchmark</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">benchmark_io</span>(<span class="at">runs =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Preparing read/write io</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code># IO benchmarks (2 tests) for size 50 MB:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>     Writing a csv with 6250000 values: 3.97 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>     Reading a csv with 6250000 values: 1.43 (sec).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the results</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>You are ranked 1 out of 119 machines.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Press return to get next plot </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>You are ranked 2 out of 119 machines.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="efficient_R_code_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="efficient_R_code_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="benchmark-r-operations" class="level2">
<h2 class="anchored" data-anchor-id="benchmark-r-operations">Benchmark r operations</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run each benchmark 3 times</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">benchmark_std</span>(<span class="at">runs =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code># Programming benchmarks (5 tests):</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    3,500,000 Fibonacci numbers calculation (vector calc): 0.114 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Grand common divisors of 1,000,000 pairs (recursion): 0.358 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Creation of a 3,500 x 3,500 Hilbert matrix (matrix calc): 0.169 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Creation of a 3,000 x 3,000 Toeplitz matrix (loops): 0.782 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Escoufier's method on a 60 x 60 matrix (mixed): 0.554 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code># Matrix calculation benchmarks (5 tests):</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Creation, transp., deformation of a 5,000 x 5,000 matrix: 0.278 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    2,500 x 2,500 normal distributed random matrix^1,000: 0.146 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Sorting of 7,000,000 random values: 0.524 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    2,500 x 2,500 cross-product matrix (b = a' * a): 0.967 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Linear regr. over a 5,000 x 500 matrix (c = a \ b'): 0.0893 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code># Matrix function benchmarks (5 tests):</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Cholesky decomposition of a 3,000 x 3,000 matrix: 0.633 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Determinant of a 2,500 x 2,500 random matrix: 0.693 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Eigenvalues of a 640 x 640 random matrix: 0.287 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    FFT over 2,500,000 random values: 0.171 (sec).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>    Inverse of a 1,600 x 1,600 random matrix: 0.573 (sec).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>You are ranked 1 out of 749 machines.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Press return to get next plot </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>You are ranked 2 out of 747 machines.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="efficient_R_code_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Press return to get next plot </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>You are ranked 47 out of 747 machines.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="efficient_R_code_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="efficient_R_code_files/figure-html/unnamed-chunk-6-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="timings---growing-a-vector" class="level2">
<h2 class="anchored" data-anchor-id="timings---growing-a-vector">Timings - growing a vector</h2>
<p>Growing a vector is one of the deadly sins in R; you should always avoid it.</p>
<p>The growing() function defined below generates n random standard normal numbers, but grows the size of the vector each time an element is added!</p>
<p>Note: Standard normal numbers are numbers drawn from a normal distribution with mean 0 and standard deviation 1.</p>
<p>n &lt;- 30000 # Slow code growing &lt;- function(n) { x &lt;- NULL for(i in 1:n) x &lt;- c(x, rnorm(1)) x }</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>growing <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">=</span> <span class="cn">NULL</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>        x <span class="ot">=</span> <span class="fu">c</span>(x, <span class="fu">rnorm</span>(<span class="dv">1</span>))</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    x</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Use &lt;- with system.time() to store the result as res_grow</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(res_grow <span class="ot">&lt;-</span> <span class="fu">growing</span>(<span class="dv">30000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.646   0.000   0.647 </code></pre>
</div>
</div>
<p>Timings - pre-allocation In the previous exercise, growing the vector took around 2 seconds. How long does it take when we pre-allocate the vector? The pre_allocate() function is defined below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">30000</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Fast code</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>pre_allocate <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">numeric</span>(n) <span class="co"># Pre-allocate</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) </span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>        x[i] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>)</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    x</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Use &lt;- with system.time() to store the result as res_allocate</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">30000</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(res_allocate <span class="ot">&lt;-</span> <span class="fu">pre_allocate</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.036   0.000   0.035 </code></pre>
</div>
</div>
</section>
<section id="vectorized-code-multiplication" class="level2">
<h2 class="anchored" data-anchor-id="vectorized-code-multiplication">Vectorized code: multiplication</h2>
<p>The following piece of code is written like traditional C or Fortran code. Instead of using the vectorized version of multiplication, it uses a for loop.</p>
<p>Your job is to make this code more “R-like” by vectorizing it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="fu">length</span>(x))</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    x2[i] <span class="ot">&lt;-</span> x[i] <span class="sc">*</span> x[i]</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Store your answer as x2_imp</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>x2_imp <span class="ot">&lt;-</span> x<span class="sc">*</span>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="vectorized-code-calculating-a-log-sum" class="level2">
<h2 class="anchored" data-anchor-id="vectorized-code-calculating-a-log-sum">Vectorized code: calculating a log-sum</h2>
<p>A common operation in statistics is to calculate the sum of log probabilities. The following code calculates the log-sum (the sum of the logs).</p>
</section>
<section id="x-is-a-vector-of-probabilities" class="level1">
<h1>x is a vector of probabilities</h1>
<p>total &lt;- 0 for(i in seq_along(x)) total &lt;- total + log(x[i]) However this piece of code could be significantly improved using vectorized code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initial code</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">runif</span>(n)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    total <span class="ot">&lt;-</span> total <span class="sc">+</span> <span class="fu">log</span>(x[i])</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Rewrite in a single line. Store the result in log_sum</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>log_sum <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">log</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="data-frames-and-matrices---column-selection" class="level2">
<h2 class="anchored" data-anchor-id="data-frames-and-matrices---column-selection">Data frames and matrices - column selection</h2>
<p>All values in a matrix must have the same data type, which has efficiency implications when selecting rows and columns.</p>
<p>Suppose we have two objects, mat (a matrix) and df (a data frame).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Which is faster, mat[, 1] or df[, 1]? </span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">microbenchmark</span>(mat[, <span class="dv">1</span>], df[, <span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="row-timings" class="level2">
<h2 class="anchored" data-anchor-id="row-timings">Row timings</h2>
<p>Similar to the previous example, the objects mat and df are a matrix and a data frame, respectively. Using microbenchmark(), how long does it take to select the first row from each of these objects?</p>
<p>To make the comparison fair, just use mat[1, ] and df[1, ].</p>
<ul>
<li>Interesting! Accessing a row of a data frame is much slower than accessing that of a matrix, more so than when accessing a column from each data type. This is because the values of a column of a data frame must be the same data type, whereas that of a row doesn’t have to be. Do you see the pattern here?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Which is faster, mat[, 1] or df[, 1]? </span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">microbenchmark</span>(mat[<span class="dv">1</span>, ], df[<span class="dv">1</span>, ])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="profvis-in-action" class="level2">
<h2 class="anchored" data-anchor-id="profvis-in-action">Profvis in action</h2>
<p>Examine the code on the right that performs a standard data analysis. It loads and selects data, plots the data of interest, and adds in a regression line.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data set</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(movies, <span class="at">package =</span> <span class="st">"ggplot2movies"</span>) </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the profvis package</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(profvis)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Profile the following code with the profvis function</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="fu">profvis</span>({</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Load and select data</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>  comedies <span class="ot">&lt;-</span> movies[movies<span class="sc">$</span>Comedy <span class="sc">==</span> <span class="dv">1</span>, ]</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot data of interest</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(comedies<span class="sc">$</span>year, comedies<span class="sc">$</span>rating)</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Loess regression line</span></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>  model <span class="ot">&lt;-</span> <span class="fu">loess</span>(rating <span class="sc">~</span> year, <span class="at">data =</span> comedies)</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>  j <span class="ot">&lt;-</span> <span class="fu">order</span>(comedies<span class="sc">$</span>year)</span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add fitted line to the plot</span></span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines</span>(comedies<span class="sc">$</span>year[j], model<span class="sc">$</span>fitted[j], <span class="at">col =</span> <span class="st">"red"</span>)</span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a>})    <span class="do">## Remember the closing brackets!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="efficient_R_code_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<div id="htmlwidget-21b7dc45f615db6068b5" style="width:100%;height:600px;" class="profvis html-widget"></div>
<script type="application/json" data-for="htmlwidget-21b7dc45f615db6068b5">{"x":{"message":{"prof":{"time":[1,1,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7,8,8,8,9,9,9,10,10,10,11,11,11,12,12,12,13,13,13,14,14,14,15,15,15,16,16,16,17,17,17,18,18,18,19,19,19,20,20,20,21,21,21,22,22,22,23,23,23,24,24,24,25,25,25,26,26,26,27,27,27,28,28,28,29,29,30,30,31,31,32,32,33,33,34,34,35,35,36,36,37,37,38,38,39,39,40,40,41,41,42,42,43,43,44,44,45,45,46,46,47,47,48,48,49,49,50,50,51,51,52,52,53,53,54,54,55,55,56,56,57,57,58,58,59,59,60,60,61,61,62,62,63,63,64,64,65,65,66,66,67,67,68,68,69,69,70,70,71,71,72,72,73,73,74,74,75,75,76,76,77,77,78,78,79,79,80,80,81,81,82,82,83,83,84,84,85,85,86,86,87,87,88,88,89,89,90,90,91,91,92,92,93,93,94,94,95,95,96,96,97,97,98,98,99,99,100,100,101,101,102,102,103,103,104,104,105,105,106,106,107,107,108,108,109,109,110,110,111,111,112,112,113,113,114,114,115,115,116,116,117,117,118,118,119,119,120,120,121,121,122,122,123,123,124,124,125,125,126,126,127,127,128,128,129,129,130,130,131,131,132,132,133,133,134,134,135,135,136,136,137,137,138,138,139,139,140,140,141,141,142,142,143,143,144,144,145,145,146,146,147,147,148,148,149,149,150,150,151,151,152,152,153,153,154,154,155,155,156,156,157,157,158,158,159,159,160,160,161,161,162,162,163,163,164,164,165,165,166,166,167,167,168,168,169,169,170,170,171,171,172,172,173,173,174,174,175,175,176,176,177,177,178,178,179,179,180,180,181,181,182,182,183,183,184,184,185,185,186,186,187,187,188,188,189,189,190,190,191,191,192,192,193,193,194,194,195,195,196,196,197,197,198,198,199,199,200,200,201,201,202,202,203,203,204,204,205,205,206,206,207,207,208,208,209,209,210,210,211,211,212,212,213,213,214,214,215,215,216,216,217,217,218,218,219,219,220,220,221,221,222,222,223,223,224,224,225,225,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,244,244,245,245,246,246,247,247,248,248,249,249,250,250,251,251,252,252,253,253,254,254,255,255,256,256,257,257,258,258,259,259,260,260,261,261,262,262,263,263,264,264],"depth":[2,1,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,3,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1],"label":["lazyLoadDBfetch",".main","lazyLoadDBfetch",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main","plot.xy","plot.default",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main",".C",".main"],"filenum":[1,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"linenum":[10,null,10,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"memalloc":[46.7913665771484,46.7913665771484,50.5783157348633,50.5783157348633,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,59.659782409668,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188,64.4918823242188],"meminc":[0,0,3.78694915771484,0,9.08146667480469,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4.83209991455078,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"filename":["<expr>",null,"<expr>",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},"interval":10,"files":[{"filename":"<expr>","content":"# Load the data set\ndata(movies, package = \"ggplot2movies\") \n\n# Load the profvis package\nlibrary(profvis)\n\n# Profile the following code with the profvis function\nprofvis({\n  # Load and select data\n  comedies <- movies[movies$Comedy == 1, ]\n\n  # Plot data of interest\n  plot(comedies$year, comedies$rating)\n\n  # Loess regression line\n  model <- loess(rating ~ year, data = comedies)\n  j <- order(comedies$year)\n  \n  # Add fitted line to the plot\n  lines(comedies$year[j], model$fitted[j], col = \"red\")\n})    ## Remember the closing brackets!","normpath":"<expr>"}],"prof_output":"/tmp/RtmpwtUfKS/file26c0d6c168e46.prof","highlight":{"output":["^output\\$"],"gc":["^<GC>$"],"stacktrace":["^\\.\\.stacktraceo(n|ff)\\.\\.$"]},"split":"h"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>